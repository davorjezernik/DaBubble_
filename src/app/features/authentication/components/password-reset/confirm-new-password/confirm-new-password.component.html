<section>
  <div class="main-container">
    <div class="inner-container">
      <div class="inner-container-wrapper">
        <div [routerLink]="'/login'" class="arrow-container">
          <img src="assets/icons/arrow_back.svg" alt="back">
        </div>
        <div class="email-reset-container">
          <h1>Passwort zurücksetzen</h1>
          <form class="input-wrapper" #resetForm="ngForm" (ngSubmit)="onSubmit()">
            <div>
              <input 
                class="input-password" 
                type="password" 
                name="password" 
                placeholder="Neues Passwort"
                minlength="8"
                required
                [(ngModel)]="newPassword"
                #password="ngModel"
              >
              <div class="error-message-container-one">
                <span *ngIf="password.invalid && password.touched">
                  Passwort muss mindestens 8 Zeichen lang sein.
                </span>
              </div>
            </div>
            <div>
              <input 
                class="input-password" 
                type="password" 
                name="confirmPassword"
                placeholder="Neues Kennwort bestätigen"
                minlength="8"
                required
                [(ngModel)]="confirmPassword"
                #confirmPasswordField="ngModel"
              >
              <div class="error-message-container-two">
                <span *ngIf="confirmPasswordField.touched && newPassword !== confirmPassword">
                  Passwörter stimmen nicht überein.
                </span>
              </div>
            </div>
            <div class="info-container">
              <div *ngIf="errorMessage" class="error-message-container-two">
                <span>{{ errorMessage }}</span>
              </div>
              <div *ngIf="successMessage" class="success-message-container">
                <span>{{ successMessage }}</span>
              </div>
            </div>
            <div class="button-container">
              <button 
                class="change-button" 
                type="submit"
                [disabled]="!resetForm.form.valid || newPassword !== confirmPassword"
                [ngClass]="{
                'active-button': resetForm.form.valid && newPassword === confirmPassword,
                'inactive-button': !resetForm.form.valid || newPassword !== confirmPassword
                }">
                Passwort ändern
              </button>
            </div>
          </form>
        </div>
      </div>  
    </div>
  </div>
</section>
