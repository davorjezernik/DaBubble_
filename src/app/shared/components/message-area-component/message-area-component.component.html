<section class="msg-box" [class.focused]="focused" [class.has-text]="!!text">
  <textarea
    #ta
    [(ngModel)]="text"
    [disabled]="disabled"
    (input)="autoResize(ta)"
    (focus)="focused = true"
    (blur)="focused = false"
    [attr.placeholder]="hintText"
    rows="1"
  ></textarea>

  <div class="bottom-row" aria-hidden="false">
    <div class="left-icons">
    
        <div class="emoji-container">
        <button
          (click)="toggleEmojiPicker()"
          type="button"
          class="icon-btn"
          aria-label="Emoji einfügen"
        >
          <img src="assets/icons/sentiment_satisfied.svg" alt="" />
        </button>
        @if(showEmojiPicker) {
        <div class="emoji-picker-container">
          <emoji-mart (emojiClick)="addEmoji($event)"></emoji-mart>
        </div>
        }
      </div>

      <button type="button" class="icon-btn" aria-label="Jemanden erwähnen">
        <img src="assets/icons/alternate_email.svg" alt="" />
      </button>
    </div>

    <button
      type="button"
      class="send-btn"
      [disabled]="!text.trim() || disabled"
      (click)="triggerSend()"
      aria-label="Nachricht senden"
    ></button>
  </div>
</section>
